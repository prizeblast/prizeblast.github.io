
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Prize Blast ‚Äì L‚Äôapplication incontournable</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Fredoka', sans-serif;
      background: #f3faff url('https://i.imgur.com/C0yRpWc.png') repeat;
      color: #333;
      margin: 0;
      padding: 0;
    }
    header {
      background: #FFCC00;
      padding: 15px;
      text-align: center;
      font-size: 24px;
      color: #000;
    }
    nav {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #ffc107;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 2px solid #000;
    }
    nav button {
      background: none;
      border: none;
      font-size: 14px;
      color: #000;
    }
    .section {
      display: none;
      padding: 20px;
    }
    .active {
      display: block;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input[type="text"], input[type="url"] {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
    }
    input[type="file"] {
      margin-bottom: 10px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 6px;
      margin: 10px 0;
    }
    .piece {
      border: 1px solid #ccc;
      padding: 6px;
      background: #fff;
      text-align: center;
      font-size: 12px;
      cursor: pointer;
    }
    .checked {
      background: #90ee90;
    }
    h2 {
      margin-top: 20px;
    }
  </style>
</head>
<body onload="playMusic()">

<header>üè¥‚Äç‚ò†Ô∏è Prize Blast ‚Äì Mon Profil Pirate</header>

<audio id="pirateMusic" autoplay loop>
  <source src="https://cdn.pixabay.com/audio/2023/03/23/audio_685c76f009.mp3" type="audio/mpeg">
</audio>

<div id="profil" class="section active">
  <label>Pseudo :</label>
  <input type="text" id="pseudo">

  <label>Lien de jeu :</label>
  <input type="url" id="lien">

  <label>Photo de profil :</label>
  <input type="file" accept="image/*" onchange="previewPhoto(event)">
  <div id="photoPreview"></div>
</div>

<div id="doubles" class="section">
  <h2>Mes pi√®ces en double</h2>
  <div id="gridDoubles"></div>
</div>

<div id="recherches" class="section">
  <h2>Mes pi√®ces recherch√©es</h2>
  <div id="gridRecherches"></div>
</div>

<div id="echanges" class="section">
  <h2>√âchanges possibles</h2>
  <p>(Fonctionnalit√© √† venir)</p>
</div>

<div id="demandes" class="section">
  <h2>Mes pi√®ces recherch√©es par les autres</h2>
  <p>(Fonctionnalit√© √† venir)</p>
</div>

<nav>
  <button onclick="show('profil')">üë§<br>Profil</button>
  <button onclick="show('doubles')">üí∞<br>Doubles</button>
  <button onclick="show('recherches')">üîç<br>Recherches</button>
  <button onclick="show('echanges')">üîÑ<br>√âchanges</button>
  <button onclick="show('demandes')">üì•<br>Demandes</button>
</nav>
<script>
  function show(id) {
    document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }

  function previewPhoto(event) {
    const reader = new FileReader();
    reader.onload = function () {
      const img = document.createElement("img");
      img.src = reader.result;
      img.style.maxWidth = "120px";
      img.style.marginTop = "10px";
      document.getElementById("photoPreview").innerHTML = "";
      document.getElementById("photoPreview").appendChild(img);
    };
    reader.readAsDataURL(event.target.files[0]);
  }

  function playMusic() {
    const audio = document.getElementById("pirateMusic");
    audio.volume = 0.4;
    audio.play().catch(() => {
      // Pour Safari/iPhone qui bloque parfois l'autoplay
    });
  }

  function createGrid(containerId, prefix) {
    const container = document.getElementById(containerId);
    const categories = [
      { label: "üè¥ Pirates D√©butants", start: 1, end: 252 },
      { label: "üëë Pirates VIP", start: 253, end: 504 },
      { label: "üê∑ Pirates VIPig", start: 505, end: 828 },
      { label: "üîÆ Pirates Mystiques", start: 829, end: 972 },
    ];

    categories.forEach(cat => {
      const title = document.createElement('h3');
      title.textContent = cat.label;
      container.appendChild(title);

      const grid = document.createElement('div');
      grid.className = 'grid';

      for (let i = cat.start; i <= cat.end; i++) {
        const cell = document.createElement('div');
        cell.className = 'piece';
        cell.textContent = i;
        cell.id = prefix + i;

        cell.addEventListener('click', () => {
          cell.classList.toggle('checked');
        });

        grid.appendChild(cell);
      }
      container.appendChild(grid);
    });
  }

  createGrid("gridDoubles", "D");
  createGrid("gridRecherches", "R");
</script>

</body>
</html>